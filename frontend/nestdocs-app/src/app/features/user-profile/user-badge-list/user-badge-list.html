<div class="mb-6 p-5 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-300 rounded-lg">
  <div class="flex items-center justify-between mb-4">
    <h3 class="font-bold text-gray-800 flex items-center">
      <span class="text-2xl mr-2">🏅</span>
      User Badges (&#64;for Control Flow Demo)
    </h3>
    <span class="bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-semibold">
      {{ badgeCount() }} badges
    </span>
  </div>
  
  <!-- Badges List using @for -->
  <ul class="user-badge-list grid grid-cols-1 gap-3 mb-4">
    @for (badge of badges(); track badge.id) {
      <li class="user-badge flex items-center justify-between bg-white p-3 rounded-lg border-2 border-purple-200 hover:border-purple-400 transition-all shadow-sm hover:shadow-md">
        <span class="font-medium">{{ badge.name }}</span>
        <button 
          (click)="onRemoveBadge(badge.id)"
          class="ml-3 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full p-1 transition-colors"
          title="Remove badge"
        >
          ❌
        </button>
      </li>
    } @empty {
      <li class="text-gray-500 italic text-center py-4">
        No badges yet! Start earning achievements! 🎯
      </li>
    }
  </ul>
  
  <!-- Badge Controls -->
  <div class="flex gap-3">
    <button 
      (click)="onAddBadge()"
      [disabled]="badgeCount() >= 7"
      [class.opacity-50]="badgeCount() >= 7"
      [class.cursor-not-allowed]="badgeCount() >= 7"
      class="flex-1 bg-purple-600 hover:bg-purple-700 disabled:hover:bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors shadow-md"
    >
      {{ badgeCount() >= 7 ? '✓ All Badges Earned!' : '➕ Earn New Badge' }}
    </button>
    
    <button 
      (click)="onClearAll()"
      [disabled]="badgeCount() === 0"
      [class.opacity-50]="badgeCount() === 0"
      [class.cursor-not-allowed]="badgeCount() === 0"
      class="flex-1 bg-red-500 hover:bg-red-600 disabled:hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors shadow-md"
    >
      🗑️ Clear All
    </button>
  </div>
  
  <!-- Explanation -->
  <div class="mt-4 p-3 bg-blue-50 rounded border border-blue-200">
    <p class="text-xs text-gray-700">
      <strong>💡 &#64;for Control Flow:</strong><br>
      <code class="bg-white px-1 py-0.5 rounded text-purple-600">&#64;for (badge of badges(); track badge.id)</code><br>
      • <strong>Loops</strong> through signal array automatically<br>
      • <strong>track badge.id</strong> helps Angular efficiently update the list<br>
      • <strong>&#64;empty</strong> shows when array is empty<br>
      • Updates instantly when badges() signal changes!
    </p>
  </div>
</div>
